<?xml version="1.0"?>
<project name="Compile">
	<description> A single target for compiling the Anathema source code.
	</description>

	<import file="common_targets.xml" />
	<import file="common_variables.xml" />
	<import file="copy_core.xml" />
	<import file="copy_music.xml" />

	<target name="Copy Projects" depends="Copy Core Projects,Copy Music Projects" />
	<target name="Copy Thirdparty" depends="Copy Core Thirdparty, Copy Music Thirdparty" />

	<path id="classpath">
		<pathelement path="${classpath}" />
		<fileset dir="${dist_lib}">
			<include name="**/core/*.jar" />
			<include name="**/music/*.jar" />
		</fileset>
	</path>

	<target name="Compile" depends="Copy Projects, Copy Thirdparty" description="Compile source files">
		<javac srcdir="${dist_src}" destdir="${dist_class}" includes="**/*.java" target="1.5" debug="true">
			<classpath refid="classpath" />
		</javac>
	</target>
</project>